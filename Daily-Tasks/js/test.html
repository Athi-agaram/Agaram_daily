<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<title>OS Detection Test</title>
<style>

    body {

      font-family: Arial, sans-serif;

      background-color: #f4f4f9;

      display: flex;

      flex-direction: column;

      align-items: center;

      justify-content: center;

      height: 100vh;

    }

    h2 {

      color: #333;

    }

    p {

      font-size: 1.2rem;

      color: #222;

    }

    small {

      margin-top: 10px;

      color: #666;

    }
</style>
</head>
<body>
<h2>üñ•Ô∏è Client Machine Info</h2>
<p id="osName">Detecting...</p>
<small>(Open browser console for detailed logs)</small>
 
  <script>

    async function getOSName() {

      const userAgent = navigator.userAgent;

      const platform = navigator.userAgentData?.platform || navigator.platform;

      let osName = "Unknown";
 
      console.log("Platform:", platform);

      console.log("User Agent:", userAgent);
 
      if (platform?.includes("Win")) {

        if (navigator.userAgentData?.getHighEntropyValues) {

          try {

            const ua = await navigator.userAgentData.getHighEntropyValues(["platformVersion"]);

            console.log("platformVersion:", ua.platformVersion);
 
            if (ua.platformVersion) {

              const major = parseInt(ua.platformVersion.split(".")[0], 10);

              if (!isNaN(major)) {

                if (major >= 13) {

                  osName = "Windows 11";

                } else if (major >= 10) {

                  osName = "Windows 10";

                } else {

                  osName = "Windows (other)";

                }

                console.log("Inside Client Hints detection:", osName);

                return osName;

              }

            }

            console.log("platformVersion missing or invalid, fallback to userAgent");

          } catch (err) {

            console.warn("High entropy values not supported:", err);

          }

        }
 
        if (userAgent.indexOf("Windows NT 10.0") !== -1) {

          osName = "Windows 10 or 11";

        } else if (userAgent.indexOf("Windows NT 6.3") !== -1) {

          osName = "Windows 8.1";

        } else if (userAgent.indexOf("Windows NT 6.2") !== -1) {

          osName = "Windows 8";

        } else if (userAgent.indexOf("Windows NT 6.1") !== -1) {

          osName = "Windows 7";

        } else {

          osName = "Windows";

        }

      } else if (platform?.includes("Mac")) {

        osName = "Mac OS";

      } else if (platform?.includes("Linux")) {

        osName = "Linux";

      } else if (/Android/.test(userAgent)) {

        osName = "Android";

      } else if (/iPhone|iPad|iPod/.test(userAgent)) {

        osName = "iOS";

      }
 
      console.log("Final OS name:", osName);

      return osName;

    }
 
    // Run on page load

    (async () => {

      const osName = await getOSName();

      document.getElementById("osName").textContent = `Detected OS: ${osName}`;

      console.log("Detected OS:", osName);

    })();
</script>
</body>
</html>

 